<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <link rel="stylesheet" href="styles/normalize.css">
    <link rel="stylesheet" href="styles/icons.css">
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/layout.css">
    <link rel="stylesheet" href="styles/modules.css">
    <link rel="stylesheet" href="styles/theme.css">
    <title>Book App</title>

    <!-- book list template -->
    <script id="book-list-template" type="text/x-handlebars-template">
        <div class="book">
            <div class="image-holder"><img class="book-image" src={{image_url}}></div>
            <div class="book-info">
                <h3 class="title">{{title}}</h3>
                <h4 class="author">{{author}}</h4>
                <a class="btn" href=/books/{{book_id}}>view details</a>
                <!-- <a href=/books/{{book_id}}>also link</a> -->
            </div>
        </div>        
    </script>

    <!-- book details template -->
    <script id="book-details-template" type="text/x-handlebars-template">
        <div class="book detail-holder">
            <div class="image-holder full"><img class="book-image" src={{image_url}}></div>
            <div class="book-info">
                <h3 class="title">{{title}}</h3>
                <h4 class="author">{{author}}</h4>
                <h4 class="isbn">{{isbn}}</h4>
                <h4 class="description">{{description}}</h4>
                <a class="btn" id="update" data-id={{book_id}} href=/books/{{book_id}}/update>Update</a>
                <a class="btn" id="delete" data-id={{book_id}} href=/books/delete>Delete</a>                
            </div>
        </div>        
    </script>

    <!-- error template -->
    <script  id="error-template" type="text/x-handlebars-template">
        <h3>Sorry, something broke...</h3>
        <p>{{status}}: {{statusText}}</p>
    </script>

</head>
<body>
    <header class="app-header">
        <section class="heading-group">
            <h1 class="nav-title">Books App</h1>
            <div class="main-nav">
                <div class="icon-menu"></div>
                <ul>
                <li class="tab" data-content="home"><a href="/">View All Books</a></li>
                <li class="tab" data-content="new"><a href="/books/add">Add A New Book</a></li>
                <li class="tab" data-content="update"><a href="/books/update">Update A Book</a></li>            
                </ul>
            </div>
        </section>
    </header>

    <!-- start new book view -->
    <div class="body-container book-new">
        <h3 class="book-title">add a new book</h3>
        <form id="new-book-form">
            <input type="text" placeholder="title" name="title" />
            <input type="text" placeholder="author" name="author" />
            <input type="text" placeholder="isbn" name="isbn" />
            <input type="text" placeholder="image url" name="url" />
            <textarea name="description" placeholder="description..." ></textarea>
            <div class="submit-holder"><input type="submit" value="submit" class="book-submit"></div>
        </form>
    </div>
    <!-- end new book view -->

    <!-- start update book view -->
    <div class="body-container book-update">
        <h3 class="book-title">Update a new book</h3>
        <form id="update-book-form">
            <input type="text" placeholder="title" name="title" />
            <input type="text" placeholder="author" name="author" />
            <input type="text" placeholder="isbn" name="isbn" />
            <input type="text" placeholder="url" name="url" />
            <textarea name="description" placeholder="description..." ></textarea>
            <div class="submit-holder"><input type="submit" value="submit" class="book-submit"></div>
        </form>
    </div>
    <!-- end update book view -->

    <!-- start book details -->
    <div class="body-container book-details">
    </div>
    <!-- end book details -->
    
        <!-- start all books -->
    <div class="body-container book-all">
        <div id="error-message-holder"></div>
        <section id="book-list">
            <div id="book-count">Book Count Here...</div>
        </section>
        <section id="footer">
            <span class="icon-github"></span>
            <span class="icon-linkedin"></span>
        </section>
    </div>
    <!-- end all books -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.11/handlebars.min.js"></script>
    <script src="https://cdn.rawgit.com/visionmedia/page.js/master/page.js"></script>    
    <script src="scripts/models/book.js"></script>
    <script src="scripts/views/bookView.js"></script>
    <script src="scripts/views/errorView.js"></script>
    <script src="scripts/views/menuView.js"></script>
    <script src="scripts/controllers/routes.js"></script>
    <script>
        $(document).ready(function(){
            app.Book.fetchAll(app.bookView.initIndexPage);
            app.Book.fetchAll(app.menuView.listenMenu);
        });
    </script>
    <!-- <script>
        $.get('http://localhost:3000/api/v1/books')
        .then(
            function(results) {
            console.log("here are results", results);
            }
        )
        </script> -->
</body>
</html>